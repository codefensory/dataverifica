datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id          Int       @id @default(autoincrement())
  email       String
  password    String
  ruc         String
  companyName String
  phone       String?
  createdAt   DateTime  @default(now())
  deleteAt    DateTime?
  Request     Request[]
}

model Request {
  id                 Int                @id @default(autoincrement())
  personType         PersonType
  documentType       PersonDocumentType
  documentNumber     String
  name               String
  requestInformation String
  PDF                PDF?               @relation(fields: [pdfId], references: [id])
  User               User               @relation(fields: [userId], references: [id])
  createdAt          DateTime           @default(now())
  userId             Int
  pdfId              Int?
}

model PDF {
  id        Int       @id @default(autoincrement())
  path      String
  createdAt DateTime  @default(now())
  deleteAt  DateTime?
  Request   Request[]
}

enum PersonType {
  Natural
  Juridical
}

enum PersonDocumentType {
  DNI
  RUC
}

model Admin {
  id       Int    @id @default(autoincrement())
  username String
  password String
}
